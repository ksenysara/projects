<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Таблица</title>
    <link href="CSS_task4.css" rel="stylesheet">
  </head>

  <body>

    <script>
      correct_var = false;                                             

      while (correct_var == false) {                                     
        var users_i = prompt("Что будем умножать?");                    //выводим пользователю сообщение "Что будем умножать?" с полем для ввода и кнопками "OK" и "Отмена". О prompt узнала, заглянув в лекцию занятия 17.

        if (isNaN(users_i)) {                               // isNaN проверяет, можно ли преобразовать введённое пользователем значение в число. Если нет, пишет "Это не число...".  Вычитала об этом тут: https://ru.stackoverflow.com/questions/890515/js-%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%BD%D0%B0-%D1%82%D0%B8%D0%BF-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85
          alert("Это не число. Пожалуйста, введите число от 1 до 9.");
        }
        else if (users_i < 1 || users_i > 9 || ( users_i % 1) !== 0 ) {            //если введённое пользователем значение всё же число, то проверяем: если оно меньше 1 ИЛИ больше 9 ИЛИ при делении остаток не равен нулю, пишет "Число большое...".
          alert("Число большое, маленькое или не целое. Пожалуйста, введите число от 1 до 9.");
        } 
        else {
          correct_var = true;             //если введённое пользователем значение - целое число от 1 до 9, то мы подтверждаем корректность correct_var и цикл завершается
        }
      }
      
      correct_var = false;                //снова придаём переменной correct_var значение false, чтобы заработал новый цикл

      while (correct_var == false) {
        var users_j = prompt("На что будем умножать?");                //выводим пользователю сообщение "На что будем умножать?" с полем для ввода и кнопками "OK" и "Отмена"

        if (isNaN(users_j)) {                               // isNaN проверяет, можно ли преобразовать введённое пользователем значение в число. Если нет, пишет "Это не число...".  Вычитала об этом тут: https://ru.stackoverflow.com/questions/890515/js-%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0-%D0%BD%D0%B0-%D1%82%D0%B8%D0%BF-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85
          alert("Это не число. Пожалуйста, введите число от 1 до 9.");
        }
        else if (users_j < 1 || users_j > 9 || ( users_j % 1) !== 0 ) {             //если введённое пользователем значение всё же число, то проверяем: если оно меньше 1 ИЛИ больше 9 ИЛИ при делении остаток не равен нулю, пишет "Число большое...".
          alert("Число большое, маленькое или не целое. Пожалуйста, введите число от 1 до 9.");
        } 
        else {
          correct_var = true;             //если введённое пользователем значение - целое число от 1 до 9, то мы подтверждаем корректность correct_var и цикл завершается
        }
      }

      document.write("<table>");                                          //пишем тег таблицы
      document.write("<caption> Таблица умножения" + "</caption>")        //название таблицы

      for(var i = 0; i<=9; i++){               //

        document.write("<tr>");                //пишем тег строки таблицы

        for(var j=0; j<=9; j++){

          if (i==0 && j==0) {                               //оставляем левую верхнюю клетку пустой (там обе переменные равны 0)
            document.write("<td class=title>" + "</td>");
          }
          else if (i==0) {
            document.write("<td class=title>" + j + "</td>");             //ячейки самой верхней строки заполняем значениями j (оставляем одну пустую, см комментарий выше)
          } 
          else if (j==0) {
            document.write("<td class=title>" + i + "</td>");              //ячейки самого левого столбца заполняем значениями i (оставляем одну пустую, см выше)
          } 
          else if (i==users_i && j==users_j) {                          //дополнительно: если переменная i равна переменной users_i И переменная j равна переменной users_j, то ячейка с произведением их значений выделится оранжевым
            document.write("<td class=selected>" + i*j + "</td>");  
          }  
          else {
            document.write("<td>" + i*j + "</td>");                         //всё остальное заполняем произведениями значений i и j
          }
        }

        document.write("</tr>");              //пишем закрывающий тег строки таблицы

      }

      document.write("</table>");
        				
    </script>
    
  </body>

</html>